#!/usr/bin/env tsx

import { readdirSync, readFileSync, writeFileSync } from 'node:fs'
import { join } from 'node:path'
import { fileURLToPath } from 'node:url'

import { ACTUAL_SENIOR_KANJI } from '../src/data/kanji-lists/jouyou-kanji'
import { parseQuestion } from '../src/utils/questionParser'

const __filename = fileURLToPath(import.meta.url)
const __dirname = join(__filename, '..')

interface Question {
  id?: string
  sentence: string
}

interface QuestionsFile {
  questions: Question[]
}

// å„å­¦å¹´ã®å•é¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ï¼ˆåˆ†å‰²ã•ã‚ŒãŸãƒ‘ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾å¿œï¼‰
function loadQuestions(grade: string): Question[] {
  const questionsDir = join(__dirname, '../src/data/questions')
  const allQuestions: Question[] = []

  try {
    // ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—
    const files = readdirSync(questionsDir)

    // æŒ‡å®šã•ã‚ŒãŸå­¦å¹´ã®ãƒ‘ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
    const pattern = new RegExp(`^questions-${grade}-part[0-9]+\\.json$`)
    const matchingFiles = files.filter((file) => pattern.test(file))

    if (matchingFiles.length === 0) {
      // ãƒ‘ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è©¦ã™
      const singleFile = `questions-${grade}.json`
      if (files.includes(singleFile)) {
        const filePath = join(questionsDir, singleFile)
        const data = JSON.parse(readFileSync(filePath, 'utf8')) as QuestionsFile
        return data.questions
      }
      throw new Error(`No question files found for grade: ${grade}`)
    }

    // ãƒ‘ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é †ç•ªã«èª­ã¿è¾¼ã‚€
    matchingFiles.sort().forEach((file) => {
      const filePath = join(questionsDir, file)
      const data = JSON.parse(readFileSync(filePath, 'utf8')) as QuestionsFile
      if (data.questions) {
        allQuestions.push(...data.questions)
      }
    })

    return allQuestions
  } catch (error) {
    console.error(`Error loading questions for grade ${grade}:`, error)
    return []
  }
}

// é«˜æ ¡ã®æ¼¢å­—ä½¿ç”¨å›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
function countSeniorKanjiUsage(): Map<string, number> {
  const seniorQuestions = loadQuestions('senior')
  console.log(`ğŸ“ èª­ã¿è¾¼ã‚“ã é«˜æ ¡å•é¡Œæ•°: ${seniorQuestions.length}å€‹`)
  
  const seniorKanjiCount = new Map<string, number>()

  // å¯¾è±¡æ¼¢å­—ã®ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–
  for (const kanji of ACTUAL_SENIOR_KANJI) {
    seniorKanjiCount.set(kanji, 0)
  }

  console.log(`ğŸ¯ å¯¾è±¡æ¼¢å­—æ•°: ${ACTUAL_SENIOR_KANJI.length}å€‹`)

  for (const question of seniorQuestions) {
    const parsed = parseQuestion(question.sentence)
    for (const input of parsed.inputs) {
      if (input.kanji) {
        const kanjiInAnswer = input.kanji.match(/[\u4E00-\u9FAF]/g) || []
        for (const k of kanjiInAnswer) {
          if (seniorKanjiCount.has(k)) {
            seniorKanjiCount.set(k, (seniorKanjiCount.get(k) || 0) + 1)
          }
        }
      }
    }
  }

  // ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’è¡¨ç¤º
  const totalUsages = Array.from(seniorKanjiCount.values()).reduce((sum, count) => sum + count, 0)
  console.log(`ğŸ“Š æ¼¢å­—ä½¿ç”¨ç·æ•°: ${totalUsages}å›`)
  
  const under5 = Array.from(seniorKanjiCount.entries()).filter(([, count]) => count < 5)
  console.log(`âš ï¸  5å›æœªæº€ã®æ¼¢å­—: ${under5.length}å€‹`)
  
  if (under5.length > 0) {
    console.log('\nğŸ” ä½¿ç”¨å›æ•°ãŒ5å›æœªæº€ã®æ¼¢å­—è©³ç´°:')
    under5.slice(0, 20).forEach(([kanji, count]) => {
      console.log(`  ${kanji}: ${count}å›`)
    })
    if (under5.length > 20) {
      console.log(`  ... ä»–${under5.length - 20}å€‹`)
    }
  }

  return seniorKanjiCount
}

// é«˜æ ¡ã®æ¼¢å­—ä½¿ç”¨å›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆï¼ˆè¿½åŠ å•é¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€ï¼‰
function countSeniorKanjiUsageWithAdditional(): Map<string, number> {
  const questionsDir = join(__dirname, '../src/data/questions')
  const allQuestions: Question[] = []

  try {
    // ãƒ‘ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿
    const files = readdirSync(questionsDir)
    const pattern = new RegExp(`^questions-senior-part[0-9]+\\.json$`)
    const matchingFiles = files.filter((file) => pattern.test(file))

    matchingFiles.sort().forEach((file) => {
      const filePath = join(questionsDir, file)
      const data = JSON.parse(readFileSync(filePath, 'utf8')) as QuestionsFile
      if (data.questions) {
        allQuestions.push(...data.questions)
      }
    })

    // è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã¿è¾¼ã¿
    const additionalFile = 'questions-senior-additional.json'
    if (files.includes(additionalFile)) {
      const filePath = join(questionsDir, additionalFile)
      const data = JSON.parse(readFileSync(filePath, 'utf8')) as QuestionsFile
      if (data.questions) {
        allQuestions.push(...data.questions)
      }
    }
  } catch (error) {
    console.error('Error loading questions with additional file:', error)
    return new Map()
  }

  console.log(`ğŸ“ èª­ã¿è¾¼ã‚“ã é«˜æ ¡å•é¡Œæ•°ï¼ˆè¿½åŠ å«ã‚€ï¼‰: ${allQuestions.length}å€‹`)
  
  const seniorKanjiCount = new Map<string, number>()

  // å¯¾è±¡æ¼¢å­—ã®ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–
  for (const kanji of ACTUAL_SENIOR_KANJI) {
    seniorKanjiCount.set(kanji, 0)
  }

  for (const question of allQuestions) {
    const parsed = parseQuestion(question.sentence)
    for (const input of parsed.inputs) {
      if (input.kanji) {
        const kanjiInAnswer = input.kanji.match(/[\u4E00-\u9FAF]/g) || []
        for (const k of kanjiInAnswer) {
          if (seniorKanjiCount.has(k)) {
            seniorKanjiCount.set(k, (seniorKanjiCount.get(k) || 0) + 1)
          }
        }
      }
    }
  }

  // ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’è¡¨ç¤º
  const totalUsages = Array.from(seniorKanjiCount.values()).reduce((sum, count) => sum + count, 0)
  console.log(`ğŸ“Š æ¼¢å­—ä½¿ç”¨ç·æ•°ï¼ˆè¿½åŠ å«ã‚€ï¼‰: ${totalUsages}å›`)
  
  const under5 = Array.from(seniorKanjiCount.entries()).filter(([, count]) => count < 5)
  console.log(`âš ï¸  5å›æœªæº€ã®æ¼¢å­—ï¼ˆè¿½åŠ å«ã‚€ï¼‰: ${under5.length}å€‹`)

  return seniorKanjiCount
}

// ä½¿ç”¨é »åº¦ãŒ5å›æœªæº€ã®æ¼¢å­—ã‚’ç‰¹å®š
function findUnderrepresentedKanji(): Array<{ kanji: string; count: number; needed: number }> {
  const kanjiCounts = countSeniorKanjiUsage()
  const underrepresented: Array<{ kanji: string; count: number; needed: number }> = []

  for (const [kanji, count] of kanjiCounts.entries()) {
    if (count < 5) {
      underrepresented.push({
        kanji,
        count,
        needed: 5 - count
      })
    }
  }

  return underrepresented.sort((a, b) => b.needed - a.needed)
}

// æ¼¢å­—ã®èª­ã¿ãƒ‡ãƒ¼ã‚¿ï¼ˆåŸºæœ¬çš„ãªèª­ã¿æ–¹ï¼‰
const kanjiReadings: { [key: string]: string[] } = {
  'æœ›': ['ã¼ã†', 'ã®ãã¿', 'ã‚‚ã¡'],
  'æ„': ['ã„'],
  'è¦‹': ['ã‘ã‚“', 'ã¿'],
  'å…¨': ['ãœã‚“', 'ã¾ã£ãŸ'],
  'è¦': ['ã‚ˆã†', 'ã‹ãªã‚'],
  'å“': ['ã²ã‚“', 'ã—ãª'],
  'å¿ƒ': ['ã—ã‚“', 'ã“ã“ã‚'],
  'è­˜': ['ã—ã'],
  'åŠ›': ['ã‚Šã‚‡ã', 'ã¡ã‹ã‚‰'],
  'ç†': ['ã‚Š'],
  'è§£': ['ã‹ã„', 'ã’'],
  'æ˜': ['ã‚ã„', 'ã‚ã‹'],
  'æƒ…': ['ã˜ã‚‡ã†'],
  'å’Œ': ['ã‚', 'ãªã”'],
  'æ±º': ['ã‘ã¤', 'ã'],
  'æˆ': ['ã›ã„', 'ãª'],
  'å¤§': ['ã ã„', 'ãŠãŠ'],
  'ç¶š': ['ãã', 'ã¤ã¥'],
  'ç†±': ['ã­ã¤', 'ã‚ã¤'],
  'å­¦': ['ãŒã', 'ã¾ãª'],
  'æ„Ÿ': ['ã‹ã‚“'],
  'å®Ÿ': ['ã˜ã¤', 'ã¿'],
  'è¨¼': ['ã—ã‚‡ã†'],
  'ç´ ': ['ã', 'ã‚‚ã¨'],
  'å› ': ['ã„ã‚“'],
  'èª¿': ['ã¡ã‚‡ã†', 'ã—ã‚‰'],
  'ä¸Š': ['ã˜ã‚‡ã†', 'ã†ãˆ'],
  'ä¿¡': ['ã—ã‚“'],
  'é«˜': ['ã“ã†', 'ãŸã‹'],
  'ç„¡': ['ã‚€', 'ãª'],
  'è«–': ['ã‚ã‚“'],
  'åˆ¥': ['ã¹ã¤', 'ã‚ã‹'],
  'ä¼š': ['ã‹ã„', 'ã‚'],
  'è¡¡': ['ã“ã†'],
  'å¤š': ['ãŸ', 'ãŠãŠ'],
  'çœŸ': ['ã—ã‚“', 'ã¾'],
  'å¹³': ['ã¸ã„', 'ãŸã„'],
  'é€²': ['ã—ã‚“', 'ã™ã™'],
  'åˆ†': ['ã¶ã‚“', 'ã‚'],
  'è¦³': ['ã‹ã‚“'],
  'å®š': ['ã¦ã„', 'ã•ã '],
  'ä¸»': ['ã—ã‚…', 'ã¬ã—'],
  'å®Œ': ['ã‹ã‚“'],
  'å®‰': ['ã‚ã‚“', 'ã‚„ã™'],
  'æ•': ['ã³ã‚“'],
  'æ¨': ['ã™ã„', 'ãŠ'],
  'æ¥½': ['ã‚‰ã', 'ãŸã®'],
  'çš„': ['ã¦ã'],
  'å‡': ['ãã‚“'],
  'ç¾': ['ã³', 'ã†ã¤ã'],
  'æ–‡': ['ã¶ã‚“', 'ãµã¿'],
  'é€ ': ['ãã†', 'ã¤ã'],
  'ä½œ': ['ã•ã', 'ã¤ã'],
  'é©': ['ã‹ã', 'ã‹ã‚'],
  'æ”¹': ['ã‹ã„', 'ã‚ã‚‰ãŸ'],
  'é‡': ['ã˜ã‚…ã†', 'ãŠã‚‚'],
  'åŸº': ['ã', 'ã‚‚ã¨'],
  'å³': ['ã’ã‚“', 'ãã³'],
  'å¯Ÿ': ['ã•ã¤'],
  'é ¼': ['ã‚‰ã„', 'ãŸã‚ˆ'],
  'çµ±': ['ã¨ã†', 'ã™'],
  'ç·´': ['ã‚Œã‚“', 'ã­'],
  'æ°¸': ['ãˆã„', 'ãªãŒ'],
  'æ½”': ['ã‘ã¤', 'ã„ã•ãã‚ˆ'],
  'è±Š': ['ã»ã†', 'ã‚†ãŸ'],
  'æœ€': ['ã•ã„', 'ã‚‚ã£ã¨'],
  'è‡³': ['ã—', 'ã„ãŸ'],
  'äºˆ': ['ã‚ˆ'],
  'é¸': ['ã›ã‚“', 'ãˆã‚‰'],
  'äºº': ['ã˜ã‚“', 'ã²ã¨'],
  'é–“': ['ã‹ã‚“', 'ã‚ã„ã '],
  'ç©¶': ['ãã‚…ã†', 'ãã‚'],
  'åˆ¶': ['ã›ã„'],
  'æŒ': ['ã˜', 'ã‚‚'],
  'æ€§': ['ã›ã„'],
  'è¡“': ['ã˜ã‚…ã¤'],
  'è¯': ['ã‹', 'ã¯ãª'],
  'ä¼': ['ã§ã‚“', 'ã¤ãŸ'],
  'æ': ['ã›ã'],
  'ç™º': ['ã¯ã¤', 'ã¯ã£'],
  'æ§‹': ['ã“ã†', 'ã‹ã¾'],
  'ä¾¡': ['ã‹', 'ã‚ãŸã„'],
  'è³ª': ['ã—ã¤'],
  'å¤‰': ['ã¸ã‚“', 'ã‹'],
  'ç‚¹': ['ã¦ã‚“'],
  'çŸ¥': ['ã¡', 'ã—'],
  'å‹•': ['ã©ã†', 'ã†ã”'],
  'æ „': ['ãˆã„', 'ã•ã‹'],
  'èª ': ['ã›ã„', 'ã¾ã“ã¨'],
  'æ ¼': ['ã‹ã'],
  'å‘': ['ã“ã†', 'ã‚€'],
  'å¸Œ': ['ã'],
  'å¿µ': ['ã­ã‚“'],
  'å–„': ['ãœã‚“', 'ã‚ˆ'],
  'å„ª': ['ã‚†ã†', 'ã‚„ã•'],
  'æ•´': ['ã›ã„', 'ã¨ã¨ã®'],
  'æ°—': ['ã'],
  'é™': ['ã’ã‚“', 'ã‹ã'],
  'é ': ['ãˆã‚“', 'ã¨ãŠ'],
  'ç¶™': ['ã‘ã„', 'ã¤'],
  'ä»»': ['ã«ã‚“'],
  'æ¬²': ['ã‚ˆã', 'ã»ã£'],
  'æœ¬': ['ã»ã‚“', 'ã‚‚ã¨'],
  'é¢': ['ã‚ã‚“'],
  'ç›´': ['ã¡ã‚‡ã', 'ãªãŠ'],
  'ç´”': ['ã˜ã‚…ã‚“'],
  'æ¸…': ['ã›ã„', 'ãã‚ˆ'],
  'é®®': ['ã›ã‚“', 'ã‚ã–'],
  'é ‚': ['ã¡ã‚‡ã†', 'ã„ãŸã '],
  'æ€¥': ['ãã‚…ã†', 'ã„ã'],
  'é€Ÿ': ['ãã', 'ã¯ã‚„'],
  'æ©Ÿ': ['ã'],
  'ç´°': ['ã•ã„', 'ã»ã'],
  'ä¸­': ['ã¡ã‚…ã†', 'ãªã‹'],
  'å¾—': ['ã¨ã', 'ãˆ'],
  'ç¾©': ['ã'],
  'æ”¿': ['ã›ã„'],
  'è­°': ['ã'],
  'å­': ['ã—', 'ã“'],
  'åŸ': ['ã’ã‚“', 'ã¯ã‚‰'],
  'å¾®': ['ã³'],
  'è¦–': ['ã—', 'ã¿'],
  'ä¸–': ['ã›', 'ã‚ˆ'],
  'ç”Ÿ': ['ã›ã„', 'ã„'],
  'ç‰©': ['ã¶ã¤', 'ã‚‚ã®'],
  'æ§˜': ['ã‚ˆã†', 'ã•ã¾'],
  'ä¿': ['ã»', 'ãŸã‚‚'],
  'èŠ¸': ['ã’ã„'],
  'è¦š': ['ã‹ã', 'ãŠã¼'],
  'çµŒ': ['ã‘ã„', 'ã¸'],
  'å¿…': ['ã²ã¤', 'ã‹ãªã‚‰'],
  'å ±': ['ã»ã†'],
  'å›½': ['ã“ã', 'ãã«'],
  'æ³•': ['ã»ã†'],
  'èˆˆ': ['ã“ã†', 'ãŠã“'],
  'æ­´': ['ã‚Œã'],
  'å²': ['ã—'],
  'é': ['ã‹', 'ã™'],
  'ç¨‹': ['ã¦ã„', 'ã»ã©'],
  'å€«': ['ã‚Šã‚“'],
  'åˆ¤': ['ã¯ã‚“', 'ã‚ã‹'],
  'æ–­': ['ã ã‚“', 'ãŸ'],
  'å€¤': ['ã¡', 'ã­'],
  'ç›¸': ['ãã†', 'ã‚ã„'],
  'å¯¾': ['ãŸã„', 'ã¤ã„'],
  'è€ƒ': ['ã“ã†', 'ã‹ã‚“ãŒ'],
  'ç”¨': ['ã‚ˆã†', 'ã‚‚ã¡'],
  'ç¤¾': ['ã—ã‚ƒ'],
  'å‰': ['ãœã‚“', 'ã¾ãˆ'],
  'è©•': ['ã²ã‚‡ã†'],
  'èª': ['ã«ã‚“', 'ã¿ã¨'],
  'ç›¤': ['ã°ã‚“'],
  'æ¨©': ['ã‘ã‚“'],
  'å¨': ['ã„'],
  'äº«': ['ãã‚‡ã†', 'ã†'],
  'æ•¬': ['ã‘ã„', 'ã†ã‚„ã¾'],
  'æ„›': ['ã‚ã„'],
  'å“': ['ãŸã'],
  'æ´': ['ã©ã†'],
  'æ…': ['ã—ã‚“', 'ã¤ã¤ã—'],
  'æƒ³': ['ãã†', 'ãŠã‚‚'],
  'å¿—': ['ã—', 'ã“ã“ã‚ã–'],
  'é•·': ['ã¡ã‚‡ã†', 'ãªãŒ'],
  'å±•': ['ã¦ã‚“'],
  'æ­©': ['ã»', 'ã‚ã‚‹'],
  'ç¦': ['ãµã'],
  'å‹': ['ã‚†ã†', 'ã¨ã‚‚'],
  'ä¸€': ['ã„ã¡', 'ã²ã¨'],
  'é€£': ['ã‚Œã‚“', 'ã¤ã‚‰'],
  'ä½': ['ã„'],
  'ä¸': ['ãµ', 'ã¶'],
  'ä¹…': ['ãã‚…ã†', 'ã²ã•'],
  'æ‰¿': ['ã—ã‚‡ã†', 'ã†'],
  'è©±': ['ã‚', 'ã¯ãª'],
  'äº¤': ['ã“ã†', 'ã¾ã˜'],
  'æœŸ': ['ã'],
  'é¡˜': ['ãŒã‚“', 'ã­ãŒ'],
  'æ±‚': ['ãã‚…ã†', 'ã‚‚ã¨'],
  'å‘½': ['ã‚ã„', 'ã„ã®ã¡'],
  'ç›®': ['ã‚‚ã', 'ã‚'],
  'ç‡': ['ã‚Šã¤', 'ã²ã'],
  'ç°¡': ['ã‹ã‚“'],
  'éº—': ['ã‚Œã„', 'ã†ã‚‹ã‚'],
  'æ²¢': ['ãŸã', 'ã•ã‚'],
  'å¯Œ': ['ãµ', 'ã¨'],
  'å……': ['ã˜ã‚…ã†', 'ã¿'],
  'è¶³': ['ãã', 'ã‚ã—'],
  'èº«': ['ã—ã‚“', 'ã¿'],
  'è‰¯': ['ã‚Šã‚‡ã†', 'ã‚ˆ'],
  'æ¥µ': ['ãã‚‡ã', 'ãã‚'],
  'çµ¶': ['ãœã¤', 'ãŸ'],
  'ç²¾': ['ã›ã„'],
  'å¯†': ['ã¿ã¤'],
  'æ ¹': ['ã“ã‚“', 'ã­'],
  'æ ¸': ['ã‹ã'],
  'å°': ['ã©ã†', 'ã¿ã¡ã³'],
  'æŒ‡': ['ã—', 'ã‚†ã³'],
  'å–¶': ['ãˆã„', 'ã„ã¨ãª'],
  'å°½': ['ã˜ã‚“', 'ã¤'],
  'å°‚': ['ã›ã‚“', 'ã‚‚ã£ã±'],
  'éŒ¬': ['ã‚Œã‚“'],
  'ç¿’': ['ã—ã‚…ã†', 'ãªã‚‰'],
  'æ¸¬': ['ãã', 'ã¯ã‹'],
  'æ‹ ': ['ãã‚‡'],
  'å§”': ['ã„'],
  'å‡º': ['ã—ã‚…ã¤', 'ã§'],
  'æŠ½': ['ã¡ã‚…ã†'],
  'ç¬‘': ['ã—ã‚‡ã†', 'ã‚ã‚‰'],
  'æ­“': ['ã‹ã‚“'],
  'å–œ': ['ã', 'ã‚ˆã‚ã“'],
  'è½': ['ã‚‰ã', 'ãŠ'],
  'æ»': ['ãŸã„', 'ã¨ã©ã“ãŠ'],
  'å“²': ['ã¦ã¤'],
  'å­˜': ['ãã‚“', 'ã‚'],
  'åœ¨': ['ã–ã„', 'ã‚'],
  'æ¢': ['ãŸã‚“', 'ã•ã'],
  'å•': ['ã‚‚ã‚“', 'ã¨'],
  'æ†²': ['ã‘ã‚“'],
  'å¸¸': ['ã˜ã‚‡ã†', 'ã¤ã­'],
  'é“': ['ã©ã†', 'ã¿ã¡'],
  'å‰‡': ['ãã'],
  'åº¦': ['ã©'],
  'æ“': ['ã‚ˆã†'],
  'è­·': ['ã”', 'ã¾ã‚‚'],
  'é‡': ['ã‚Šã‚‡ã†'],
  'ç•Œ': ['ã‹ã„'],
  'æ…‹': ['ãŸã„'],
  'ç³»': ['ã‘ã„'],
  'ç¶­': ['ã„'],
  'é«„': ['ãšã„'],
  'æ˜‡': ['ã—ã‚‡ã†', 'ã®ã¼'],
  'æ¸ˆ': ['ã•ã„', 'ã™'],
  'ç­–': ['ã•ã'],
  'åŠ¹': ['ã“ã†', 'ã'],
  'æœ': ['ã‹'],
  'æ¤œ': ['ã‘ã‚“', 'ã—ã‚‰'],
  'éº': ['ã„'],
  'ç–¾': ['ã—ã¤'],
  'æ‚£': ['ã‹ã‚“'],
  'æ²»': ['ã¡', 'ãªãŠ'],
  'ç™‚': ['ã‚Šã‚‡ã†'],
  'é–‹': ['ã‹ã„', 'ã²ã‚‰'],
  'éš›': ['ã•ã„', 'ãã‚'],
  'å»·': ['ã¦ã„'],
  'ç´›': ['ãµã‚“'],
  'äº‰': ['ãã†', 'ã‚ã‚‰ã'],
  'ä¿ƒ': ['ãã', 'ã†ãªãŒ'],
  'äº¡': ['ã¼ã†', 'ãª'],
  'ç„¶': ['ã­ã‚“', 'ã—ã‹'],
  'è¨€': ['ã’ã‚“', 'ã„'],
  'èª': ['ã”', 'ã‹ãŸ'],
  'æ™®': ['ãµ'],
  'é': ['ã¸ã‚“'],
  'è¿½': ['ã¤ã„', 'ãŠ'],
  'æ…®': ['ã‚Šã‚‡'],
  'ç²’': ['ã‚Šã‚…ã†', 'ã¤ã¶'],
  'äº’': ['ã”', 'ãŸãŒ'],
  'æ': ['ã¦ã„', 'ã•'],
  'ç§‘': ['ã‹'],
  'æ€': ['ã—', 'ãŠã‚‚'],
  'é‡‘': ['ãã‚“', 'ã‹ã­'],
  'è': ['ã‚†ã†'],
  'å¸‚': ['ã—', 'ã„ã¡'],
  'å ´': ['ã˜ã‚‡ã†', 'ã°'],
  'è¤‡': ['ãµã'],
  'é›‘': ['ã–ã¤'],
  'èµ·': ['ã', 'ãŠ'],
  'ç’°': ['ã‹ã‚“'],
  'å¢ƒ': ['ãã‚‡ã†'],
  'ä»£': ['ã ã„', 'ã‚ˆ'],
  'å…¬': ['ã“ã†', 'ãŠãŠã‚„ã‘'],
  'æŠ€': ['ã'],
  'æ–°': ['ã—ã‚“', 'ã‚ãŸã‚‰'],
  'å®¶': ['ã‹', 'ã„ãˆ'],
  'éšœ': ['ã—ã‚‡ã†'],
  'èª²': ['ã‹'],
  'é¡Œ': ['ã ã„'],
  'æ‰¹': ['ã²'],
  'æ·±': ['ã—ã‚“', 'ãµã‹'],
  'å±¤': ['ãã†'],
  'èª‰': ['ã‚ˆ', 'ã»ã¾'],
  'å¥¥': ['ãŠã†', 'ãŠã'],
  'ä½³': ['ã‹'],
  'å—': ['ã˜ã‚…', 'ã†'],
  'è¬™': ['ã‘ã‚“'],
  'éœ': ['ãã‚“'],
  'è¶Š': ['ãˆã¤', 'ã“'],
  'å¿ ': ['ã¡ã‚…ã†'],
  'å¯›': ['ã‹ã‚“'],
  'å®¹': ['ã‚ˆã†'],
  'å‹¤': ['ãã‚“'],
  'å‹‰': ['ã¹ã‚“'],
  'å‰µ': ['ãã†', 'ã¤ã'],
  'èª‡': ['ã“', 'ã»ã“'],
  'è²¢': ['ã“ã†'],
  'çŒ®': ['ã‘ã‚“'],
  'å°Š': ['ãã‚“', 'ã¨ã†ã¨'],
  'è¬': ['ã—ã‚ƒ', 'ã‚ã‚„ã¾'],
  'åŠª': ['ã©', 'ã¤ã¨'],
  'æŒ‘': ['ã¡ã‚‡ã†', 'ã„ã©'],
  'æˆ¦': ['ã›ã‚“', 'ãŸãŸã‹'],
  'é”': ['ãŸã¤', 'ãŸã£'],
  'åŠŸ': ['ã“ã†'],
  'å‹': ['ã—ã‚‡ã†', 'ã‹'],
  'åˆ©': ['ã‚Š'],
  'å…‰': ['ã“ã†', 'ã²ã‹'],
  'ç§€': ['ã—ã‚…ã†', 'ã²ã„'],
  'é›…': ['ãŒ', 'ã¿ã‚„ã³'],
  'ç¹': ['ã¯ã‚“'],
  'å¹¸': ['ã“ã†', 'ã•ã„ã‚'],
  'å”': ['ãã‚‡ã†'],
  'å›£': ['ã ã‚“'],
  'çµ': ['ã‘ã¤', 'ã‚€ã™'],
  'è‡´': ['ã¡', 'ã„ãŸ'],
  'å…±': ['ãã‚‡ã†', 'ã¨ã‚‚'],
  'åŒ': ['ã©ã†', 'ãŠãª'],
  'æº': ['ã‘ã„'],
  'ç§©': ['ã¡ã¤'],
  'åº': ['ã˜ã‚‡'],
  'è¦': ['ã'],
  'å¾‹': ['ã‚Šã¤'],
  'ç¤¼': ['ã‚Œã„'],
  'å„€': ['ã'],
  'é¢¨': ['ãµã†', 'ã‹ãœ'],
  'æ´—': ['ã›ã‚“', 'ã‚ã‚‰'],
  'å°š': ['ã—ã‚‡ã†', 'ãªãŠ'],
  'å´‡': ['ã™ã†', 'ã‚ãŒ'],
  'ç¥': ['ã—ã‚“', 'ã‹ã¿'],
  'è–': ['ã›ã„', 'ã²ã˜ã‚Š'],
  'ç²›': ['ã—ã‚…ã'],
  'è˜': ['ãã†'],
  'å£®': ['ãã†'],
  'é›„': ['ã‚†ã†', 'ãŠ'],
  'å‰': ['ã„', 'ãˆã‚‰'],
  'å·¨': ['ãã‚‡'],
  'è†¨': ['ã¼ã†'],
  'è«': ['ã°ã'],
  'åºƒ': ['ã“ã†', 'ã²ã‚'],
  'æœ½': ['ãã‚…ã†', 'ã'],
  'æ»…': ['ã‚ã¤', 'ã»ã‚'],
  'æ‚ ': ['ã‚†ã†'],
  'å¤': ['ã“', 'ãµã‚‹'],
  'å…¸': ['ã¦ã‚“'],
  'åŒ–': ['ã‹', 'ã°'],
  'æ•™': ['ãã‚‡ã†', 'ãŠã—'],
  'é¤Š': ['ã‚ˆã†', 'ã‚„ã—ãª'],
  'å¼µ': ['ã¡ã‚‡ã†', 'ã¯'],
  'è¿°': ['ã˜ã‚…ã¤', 'ã®'],
  'è¨': ['ã¨ã†', 'ã†'],
  'æµ': ['ã‚Šã‚…ã†', 'ãªãŒ'],
  'è¦ª': ['ã—ã‚“', 'ãŠã‚„'],
  'å¥½': ['ã“ã†', 'ã™'],
  'ç¦': ['ã¼ã', 'ã‚€ã¤'],
  'å¾…': ['ãŸã„', 'ã¾'],
  'æ¿€': ['ã’ã', 'ã¯ã’'],
  'å¥®': ['ãµã‚“'],
  'æ‡¸': ['ã‘ã‚“', 'ã‹'],
  'å‰£': ['ã‘ã‚“', 'ã¤ã‚‹ã'],
  'æ­£': ['ã›ã„', 'ãŸã '],
  'ç²‹': ['ã™ã„', 'ã„ã'],
  'æ¥š': ['ã'],
  'ç™½': ['ã¯ã', 'ã—ã‚'],
  'å¢': ['ã“ã†', 'ã‚ã‹'],
  'é‚ª': ['ã˜ã‚ƒ'],
  'å¤©': ['ã¦ã‚“', 'ã‚ã¾'],
  'æœ´': ['ã¼ã'],
  'ç­': ['ã‚Šã‚‡ã†'],
  'ç¢º': ['ã‹ã', 'ãŸã—'],
  'çƒˆ': ['ã‚Œã¤', 'ã¯ã’'],
  'çµ¢': ['ã‘ã‚“'],
  'çˆ›': ['ã‚‰ã‚“'],
  'è±ª': ['ã”ã†'],
  'è´…': ['ãœã„'],
  'é¥’': ['ã˜ã‚‡ã†'],
  'è‚¥': ['ã²', 'ã“'],
  'æ²ƒ': ['ã‚ˆã'],
  'æ½¤': ['ã˜ã‚…ã‚“', 'ã†ã‚‹ãŠ'],
  'æº€': ['ã¾ã‚“', 'ã¿'],
  'ç’§': ['ã¸ã'],
  'é©': ['ã¦ã'],
  'ç·Š': ['ãã‚“'],
  'è¿…': ['ã˜ã‚“'],
  'æ·': ['ã—ã‚‡ã†'],
  'ä¿Š': ['ã—ã‚…ã‚“'],
  'ç¹Š': ['ã›ã‚“'],
  'è©³': ['ã—ã‚‡ã†', 'ãã‚'],
  'ç¶¿': ['ã‚ã‚“', 'ã‚ãŸ'],
  'ä¸': ['ã¦ã„', 'ã¡ã‚‡ã†'],
  'å¯§': ['ã­ã„'],
  'å…¥': ['ã«ã‚…ã†', 'ã¯ã„'],
  'å‘¨': ['ã—ã‚…ã†', 'ã¾ã‚'],
  'åˆ°': ['ã¨ã†'],
  'ä¸‡': ['ã¾ã‚“', 'ã°ã‚“'],
  'å‚™': ['ã³', 'ããª'],
  'å': ['ã˜ã‚…ã†', 'ã¨ãŠ'],
  'å½©': ['ã•ã„', 'ã„ã‚ã©'],
  'è§’': ['ã‹ã', 'ã‹ã©'],
  'ç·': ['ãã†'],
  'åˆ': ['ã”ã†', 'ã‚'],
  'åŒ…': ['ã»ã†', 'ã¤ã¤'],
  'æ‹¬': ['ã‹ã¤'],
  'èˆ¬': ['ã¯ã‚“'],
  'ç¤': ['ã'],
  'åœŸ': ['ã©', 'ã¤ã¡'],
  'å°': ['ã ã„', 'ã†ã¦ãª'],
  'æ”¯': ['ã—', 'ã•ã•'],
  'æŸ±': ['ã¡ã‚…ã†', 'ã¯ã—ã‚‰'],
  'ç®¡': ['ã‹ã‚“'],
  'é‹': ['ã†ã‚“', 'ã¯ã“'],
  'æ“': ['ãã†', 'ã‚ã‚„ã¤'],
  'ç¸¦': ['ã˜ã‚…ã†', 'ãŸã¦'],
  'å¾¡': ['ãã‚‡', 'ãŠ'],
  'ç¯€': ['ã›ã¤', 'ãµã—'],
  'æ’': ['ã“ã†'],
  'çª®': ['ãã‚…ã†', 'ãã‚'],
  'é›†': ['ã—ã‚…ã†', 'ã‚ã¤'],
  'æ³¨': ['ã¡ã‚…ã†', 'ãã'],
  'ä¿®': ['ã—ã‚…ã†', 'ãŠã•'],
  'é›': ['ãŸã‚“', 'ããŸ'],
  'ç ”': ['ã‘ã‚“', 'ã¨'],
  'é‘½': ['ã•ã‚“'],
  'è¨“': ['ãã‚“'],
  'ä½“': ['ãŸã„', 'ã‹ã‚‰ã '],
  'æŠŠ': ['ã¯'],
  'æ¡': ['ã‚ã', 'ã«ã'],
  'é€': ['ã¨ã†', 'ã™'],
  'çœ‹': ['ã‹ã‚“', 'ã¿'],
  'ç ´': ['ã¯', 'ã‚„ã¶'],
  'åŒº': ['ã'],
  'å·®': ['ã•'],
  'å…ˆ': ['ã›ã‚“', 'ã•ã'],
  'é¡': ['ã‚‹ã„'],
  'æ¼”': ['ãˆã‚“'],
  'ç¹¹': ['ãˆã'],
  'å¸°': ['ã', 'ã‹ãˆ'],
  'ç´': ['ã®ã†', 'ãŠã•'],
  'ç«‹': ['ã‚Šã¤', 'ãŸ'],
  'ç”±': ['ã‚†ã†', 'ã‚ˆã—'],
  'èª˜': ['ã‚†ã†', 'ã•ã'],
  'å¥‘': ['ã‘ã„'],
  'å›³': ['ãš', 'ã¯ã‹'],
  'æ¸‡': ['ã‹ã¤', 'ã‹ã‚'],
  'åˆ‡': ['ã›ã¤', 'ã'],
  'è«‹': ['ã›ã„', 'ã“'],
  'ä¾': ['ã„'],
  'è¨—': ['ãŸã'],
  'å': ['ã‚ã„', 'ãª'],
  'æŠ': ['ãŸã'],
  'æ‚Ÿ': ['ã”', 'ã•ã¨'],
  'è…¹': ['ãµã', 'ã¯ã‚‰'],
  'èƒ¸': ['ãã‚‡ã†', 'ã‚€ã­'],
  'è‚©': ['ã‘ã‚“', 'ã‹ãŸ'],
  'é ­': ['ã¨ã†', 'ã‚ãŸã¾'],
  'æ‰‹': ['ã—ã‚…', 'ã¦'],
  'è€³': ['ã˜', 'ã¿ã¿'],
  'å£': ['ã“ã†', 'ãã¡'],
  'éª¨': ['ã“ã¤', 'ã»ã­'],
  'è¡€': ['ã‘ã¤', 'ã¡'],
  'æ±—': ['ã‹ã‚“', 'ã‚ã›'],
  'æ¶™': ['ã‚‹ã„', 'ãªã¿ã '],
  'é¡”': ['ãŒã‚“', 'ã‹ãŠ'],
  'æ‚¦': ['ãˆã¤', 'ã‚ˆã‚ã“'],
  'å¿«': ['ã‹ã„', 'ã“ã“ã‚ã‚ˆ'],
  'æ‚²': ['ã²', 'ã‹ãª'],
  'å¤±': ['ã—ã¤', 'ã†ã—ãª'],
  'èƒ†': ['ãŸã‚“'],
  'è¾¼': ['ã“'],
  'æ²ˆ': ['ã¡ã‚“', 'ã—ãš'],
  'åœ': ['ã¦ã„', 'ã¨']
}

// æ–‡ç« ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆæ¼¢å­—ã«å¯¾å¿œï¼‰
const sentenceTemplates: { [key: string]: string[] } = {
  // åŸºæœ¬çš„ãªå½¢å®¹è©ãƒ»åè©ç³»
  default: [
    '{kanji}ã®{reading}ã¯é‡è¦ãªæ¦‚å¿µã§ã™ã€‚',
    'ã“ã®{kanji}ã®{reading}ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚',
    '{kanji}ã®{reading}ã‚’ç†è§£ã™ã‚‹ã“ã¨ã¯å¤§åˆ‡ã§ã™ã€‚',
    'å½¼ã‚‰ã¯{kanji}ã®{reading}ã‚’é‡è¦–ã—ã¦ã„ã¾ã™ã€‚',
    '{kanji}ã®{reading}ãŒå•é¡Œã®æ ¸å¿ƒã§ã™ã€‚',
    'ã“ã‚Œã¯{kanji}ã®{reading}ã«é–¢ã™ã‚‹äº‹é …ã§ã™ã€‚',
    '{kanji}ã®{reading}ã¯ç¤¾ä¼šçš„ã«æ„ç¾©ãŒã‚ã‚Šã¾ã™ã€‚',
    '{kanji}ã®{reading}ã«ã¤ã„ã¦è­°è«–ã•ã‚Œã¦ã„ã¾ã™ã€‚',
    'ãã®{kanji}ã®{reading}ã¯æ³¨ç›®ã«å€¤ã—ã¾ã™ã€‚',
    '{kanji}ã®{reading}ã‚’è©³ã—ãèª¿ã¹ã¾ã—ãŸã€‚'
  ],
  
  // å‹•è©ç³»
  action: [
    'ã¿ã‚“ãªã§{kanji}ã‚’{reading}ã¾ã—ã‚‡ã†ã€‚',
    'ç§ãŸã¡ã¯{kanji}ã‚’{reading}ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'å½¼ã¯ç†±å¿ƒã«{kanji}ã‚’{reading}ã—ã¦ã„ã¾ã™ã€‚',
    'çš†ãŒ{kanji}ã‚’{reading}ã™ã‚‹ã“ã¨ã‚’æœ›ã‚“ã§ã„ã¾ã™ã€‚',
    '{kanji}ã‚’{reading}ã™ã‚‹æ©Ÿä¼šã‚’å¾—ã¾ã—ãŸã€‚',
    'å°‚é–€å®¶ãŒ{kanji}ã‚’{reading}ã—ã¾ã—ãŸã€‚',
    'ãã¡ã‚“ã¨{kanji}ã‚’{reading}ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚',
    'æ…é‡ã«{kanji}ã‚’{reading}ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚'
  ],
  
  // ç‰¹å®šã®æ¼¢å­—ç”¨ã®ç‰¹åˆ¥ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  'æœ›': [
    'ã¿ã‚“ãªã®[æœ›|ã®ãã¿]ãŒå¶ã†ã“ã¨ã‚’ç¥ˆã£ã¦ã„ã¾ã™ã€‚',
    'å°†æ¥ã¸ã®[æœ›|ã®ãã¿]ã‚’æŠ±ã„ã¦ã„ã¾ã™ã€‚',
    'ã“ã®çµæœã‚’[æœ›|ã®ã]ã‚“ã§ã„ã¾ã™ã€‚',
    'å¹³å’Œã‚’[æœ›|ã®ã]ã‚€å£°ãŒé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚',
    'æˆåŠŸã‚’[æœ›|ã®ã]ã‚“ã§åŠªåŠ›ã—ã¦ã„ã¾ã™ã€‚'
  ],
  'æ„': [
    'ãã®[æ„|ã„]å‘³ã«ã¤ã„ã¦è€ƒãˆã¾ã—ãŸã€‚',
    'å½¼ã®[æ„|ã„]è¦‹ã‚’èããŸã„ã§ã™ã€‚',
    '[æ„|ã„]è­˜ã‚’é«˜ãæŒã¤ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚',
    '[æ„|ã„]å›³ã‚’æ˜ç¢ºã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'çœŸã®[æ„|ã„]å‘³ã‚’ç†è§£ã—ã¦ã„ã¾ã™ã€‚'
  ],
  'è¦‹': [
    'å°‚é–€å®¶ã®[è¦‹|ã¿]è§£ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã€‚',
    'ã“ã®å•é¡Œã«å¯¾ã™ã‚‹[è¦‹|ã¿]æ–¹ãŒå¤‰ã‚ã‚Šã¾ã—ãŸã€‚',
    'å¤šè§’çš„ãª[è¦‹|ã¿]åœ°ã‹ã‚‰æ¤œè¨ã—ã¦ã„ã¾ã™ã€‚',
    'æ–°ã—ã„[è¦‹|ã¿]è­˜ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚',
    '[è¦‹|ã¿]é€šã—ãŒç«‹ãŸãªã„çŠ¶æ³ã§ã™ã€‚'
  ],
  'å…¨': [
    '[å…¨|ãœã‚“]ä½“çš„ãªè¦–ç‚¹ã§è€ƒãˆã¾ã™ã€‚',
    '[å…¨|ã¾ã£ãŸ]ãæ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚',
    '[å…¨|ãœã‚“]å“¡ãŒå‚åŠ ã™ã‚‹äºˆå®šã§ã™ã€‚',
    '[å…¨|ãœã‚“]é¢çš„ã«è¦‹ç›´ã—ã‚’è¡Œã„ã¾ã™ã€‚',
    '[å…¨|ãœã‚“]åŠ›ã§å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚'
  ],
  'è¦': [
    'ã“ã®ç‚¹ãŒ[è¦|ã‹ãªã‚]ã«ãªã‚Šã¾ã™ã€‚',
    '[è¦|ã‚ˆã†]æ±‚ã«å¿œã˜ã¦å¯¾å¿œã—ã¾ã™ã€‚',
    '[è¦|ã‚ˆã†]ç‚¹ã‚’æ•´ç†ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚',
    '[è¦|ã‚ˆã†]ç´„ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚',
    '[è¦|ã‚ˆã†]ç´ ã‚’åˆ†æã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚'
  ],
  'å“': [
    'é«˜ç´š[å“|ã²ã‚“]ã‚’æ‰±ã£ã¦ã„ã¾ã™ã€‚',
    '[å“|ã—ãª]ç‰©ã‚’å¤§åˆ‡ã«æ‰±ã„ã¾ã™ã€‚',
    '[å“|ã²ã‚“]è³ªã®å‘ä¸Šã‚’å›³ã‚Šã¾ã™ã€‚',
    '[å“|ã²ã‚“]æ ¼ã®ã‚ã‚‹æ…‹åº¦ã‚’ä¿ã¡ã¾ã™ã€‚',
    'ä½œ[å“|ã²ã‚“]ã®å®Œæˆåº¦ãŒé«˜ã„ã§ã™ã€‚'
  ],
  'å¿ƒ': [
    '[å¿ƒ|ã“ã“ã‚]ã‹ã‚‰æ„Ÿè¬ã—ã¦ã„ã¾ã™ã€‚',
    '[å¿ƒ|ã—ã‚“]ç†çš„ãªå½±éŸ¿ã‚’è€ƒæ…®ã—ã¾ã™ã€‚',
    '[å¿ƒ|ã“ã“ã‚]é…ã‚’ãŠã‹ã‘ã—ã¾ã—ãŸã€‚',
    '[å¿ƒ|ã—ã‚“]è‡“ã®å¥åº·ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚',
    '[å¿ƒ|ã“ã“ã‚]ã®æº–å‚™ãŒã§ãã¦ã„ã¾ã™ã€‚'
  ],
  'è­˜': [
    'å•é¡Œ[è­˜|ã—ã]ã‚’é«˜ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'å°‚é–€çš„ãªçŸ¥[è­˜|ã—ã]ãŒå¿…è¦ã§ã™ã€‚',
    'å¸¸[è­˜|ã—ã]çš„ãªåˆ¤æ–­ã‚’ã—ã¾ã™ã€‚',
    'è¦‹[è­˜|ã—ã]ã‚’æ·±ã‚ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚',
    'æ„[è­˜|ã—ã]æ”¹é©ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚'
  ],
  'åŠ›': [
    '[åŠ›|ã¡ã‹ã‚‰]ã‚’åˆã‚ã›ã¦é ‘å¼µã‚Šã¾ã™ã€‚',
    'å®Ÿ[åŠ›|ã‚Šã‚‡ã]ã‚’ç™ºæ®ã™ã‚‹æ©Ÿä¼šã§ã™ã€‚',
    'åŠª[åŠ›|ã‚Šã‚‡ã]ã®æˆæœãŒç¾ã‚Œã¦ã„ã¾ã™ã€‚',
    'èƒ½[åŠ›|ã‚Šã‚‡ã]ã‚’å‘ä¸Šã•ã›ãŸã„ã§ã™ã€‚',
    'æ¨©[åŠ›|ã‚Šã‚‡ã]ã®æ¿«ç”¨ã¯è¨±ã•ã‚Œã¾ã›ã‚“ã€‚'
  ],
  'ç†': [
    '[ç†|ã‚Š]ç”±ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚',
    '[ç†|ã‚Š]è«–çš„ã«è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚',
    'å¿ƒ[ç†|ã‚Š]å­¦ã‚’å­¦ã‚“ã§ã„ã¾ã™ã€‚',
    '[ç†|ã‚Š]æƒ³çš„ãªè§£æ±ºç­–ã§ã™ã€‚',
    'ç‰©[ç†|ã‚Š]æ³•å‰‡ã«å¾“ã„ã¾ã™ã€‚'
  ],
  'è§£': [
    'å•é¡Œã‚’[è§£|ã‹ã„]æ±ºã—ã¾ã—ãŸã€‚',
    'èª¤[è§£|ã‹ã„]ã‚’æ‹›ãè¡¨ç¾ã§ã—ãŸã€‚',
    'ç†[è§£|ã‹ã„]ãŒæ·±ã¾ã‚Šã¾ã—ãŸã€‚',
    '[è§£|ã’]é‡ˆã®ä»•æ–¹ãŒé‡è¦ã§ã™ã€‚',
    'åˆ†[è§£|ã‹ã„]ã—ã¦èª¿ã¹ã¦ã¿ã¾ã™ã€‚'
  ],
  'æ˜': [
    '[æ˜|ã‚ã‹]ã‚‹ã„æœªæ¥ã‚’ä¿¡ã˜ã¦ã„ã¾ã™ã€‚',
    '[æ˜|ã‚ã„]ç¢ºãªç­”ãˆãŒå¿…è¦ã§ã™ã€‚',
    '[æ˜|ã‚]æ—¥ã®äºˆå®šã‚’ç¢ºèªã—ã¾ã™ã€‚',
    'èª¬[æ˜|ã‚ã„]æ›¸ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚',
    '[æ˜|ã‚ã„]æ²»æ™‚ä»£ã®æ–‡åŒ–ã§ã™ã€‚'
  ],
  'æƒ…': [
    '[æƒ…|ã˜ã‚‡ã†]å ±ã‚’åé›†ã—ã¦ã„ã¾ã™ã€‚',
    '[æƒ…|ã˜ã‚‡ã†]ç†±çš„ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚',
    '[æƒ…|ã˜ã‚‡ã†]æ³ã‚’æŠŠæ¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'æ„Ÿ[æƒ…|ã˜ã‚‡ã†]ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¾ã™ã€‚',
    '[æƒ…|ã˜ã‚‡ã†]ç·’ä¸å®‰å®šãªçŠ¶æ…‹ã§ã™ã€‚'
  ],
  'å’Œ': [
    '[å’Œ|ã‚]ã‚„ã‹ãªé›°å›²æ°—ã§ã™ã€‚',
    'å¹³[å’Œ|ã‚]ãªä¸–ç•Œã‚’é¡˜ã„ã¾ã™ã€‚',
    '[å’Œ|ã‚]é¢¨ã®å»ºç‰©ãŒç¾ã—ã„ã§ã™ã€‚',
    'èª¿[å’Œ|ã‚]ã®ã¨ã‚ŒãŸè‰²å½©ã§ã™ã€‚',
    '[å’Œ|ãªã”]ã‚„ã‹ã«è©±ã—åˆã„ã¾ã—ãŸã€‚'
  ],
  'æ±º': [
    '[æ±º|ã‘ã¤]å®šäº‹é …ã‚’ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚',
    '[æ±º|ã]ã—ã¦è«¦ã‚ã¾ã›ã‚“ã€‚',
    '[æ±º|ã‘ã¤]æ–­åŠ›ãŒå¿…è¦ã§ã™ã€‚',
    'è§£[æ±º|ã‘ã¤]ç­–ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚',
    '[æ±º|ã‘ã¤]æ„ã‚’å›ºã‚ã¦ã„ã¾ã™ã€‚'
  ],
  'æˆ': [
    '[æˆ|ã›ã„]åŠŸã‚’åã‚ã¾ã—ãŸã€‚',
    'å®Œ[æˆ|ã›ã„]ã¾ã§ã‚ã¨å°‘ã—ã§ã™ã€‚',
    '[æˆ|ãª]é•·ã‚’ç¶šã‘ã¦ã„ã¾ã™ã€‚',
    '[æˆ|ã›ã„]æœã‚’ä¸Šã’ã¦ã„ã¾ã™ã€‚',
    'æ§‹[æˆ|ã›ã„]ã‚’è¦‹ç›´ã—ã¾ã™ã€‚'
  ],
  'å¤§': [
    '[å¤§|ã ã„]å­¦ã§å­¦ã‚“ã§ã„ã¾ã™ã€‚',
    '[å¤§|ãŠãŠ]ããªå¤‰åŒ–ãŒã‚ã‚Šã¾ã™ã€‚',
    '[å¤§|ãŸã„]åˆ‡ãªè©±ãŒã‚ã‚Šã¾ã™ã€‚',
    '[å¤§|ã ã„]è¦æ¨¡ãªè¨ˆç”»ã§ã™ã€‚',
    '[å¤§|ãŠãŠ]å¤‰ãªçŠ¶æ³ã§ã—ãŸã€‚'
  ],
  'ç¶š': [
    'è©±ã®[ç¶š|ã¤ã¥]ãã‚’èã‹ã›ã¦ãã ã•ã„ã€‚',
    '[ç¶š|ãã]ã€…ã¨å‚åŠ è€…ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚',
    '[ç¶š|ã¤ã¥]ã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚',
    'é€£[ç¶š|ãã]ã—ã¦æˆåŠŸã—ã¦ã„ã¾ã™ã€‚',
    'æŒ[ç¶š|ãã]å¯èƒ½ãªç™ºå±•ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚'
  ],
  'ç†±': [
    '[ç†±|ã­ã¤]å¿ƒã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚',
    '[ç†±|ã‚ã¤]ã„å¤ã®æ—¥ã§ã—ãŸã€‚',
    '[ç†±|ã­ã¤]ãŒä¸‹ãŒã‚Šã¾ã›ã‚“ã€‚',
    'æƒ…[ç†±|ã­ã¤]ã‚’æŒã£ã¦åƒãã¾ã™ã€‚',
    '[ç†±|ã­ã¤]æ„ã‚ã‚‹ææ¡ˆã§ã™ã€‚'
  ],
  'å­¦': [
    '[å­¦|ãŒã]æ ¡ã§å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚',
    '[å­¦|ã¾ãª]ã¶ã“ã¨ãŒæ¥½ã—ã„ã§ã™ã€‚',
    'ç§‘[å­¦|ãŒã]æŠ€è¡“ã®ç™ºå±•ã§ã™ã€‚',
    '[å­¦|ãŒã]å•ã‚’æ·±ã‚ãŸã„ã§ã™ã€‚',
    'è¦‹[å­¦|ãŒã]ã«è¡Œãã¾ã—ãŸã€‚'
  ],
  'æ„Ÿ': [
    '[æ„Ÿ|ã‹ã‚“]è¬ã®æ°—æŒã¡ã§ã„ã£ã±ã„ã§ã™ã€‚',
    '[æ„Ÿ|ã‹ã‚“]å‹•çš„ãªæ˜ ç”»ã§ã—ãŸã€‚',
    '[æ„Ÿ|ã‹ã‚“]è¦šã‚’ç ”ãæ¾„ã¾ã—ã¾ã™ã€‚',
    '[æ„Ÿ|ã‹ã‚“]æƒ…ã‚’è¡¨ç¾ã—ã¾ã™ã€‚',
    '[æ„Ÿ|ã‹ã‚“]æƒ³ã‚’è¿°ã¹ã¦ãã ã•ã„ã€‚'
  ],
  'å®Ÿ': [
    '[å®Ÿ|ã˜ã¤]éš›ã«ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚',
    '[å®Ÿ|ã¿]ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚',
    '[å®Ÿ|ã˜ã¤]ç”¨çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã§ã™ã€‚',
    'ç¾[å®Ÿ|ã˜ã¤]ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚',
    'èª [å®Ÿ|ã˜ã¤]ãªäººæŸ„ã§ã™ã€‚'
  ],
  'è¨¼': [
    '[è¨¼|ã—ã‚‡ã†]æ‹ ã‚’æç¤ºã—ã¾ã™ã€‚',
    '[è¨¼|ã—ã‚‡ã†]æ˜æ›¸ãŒå¿…è¦ã§ã™ã€‚',
    'èº«åˆ†[è¨¼|ã—ã‚‡ã†]ã‚’ç¢ºèªã—ã¾ã™ã€‚',
    'ç«‹[è¨¼|ã—ã‚‡ã†]ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚',
    '[è¨¼|ã—ã‚‡ã†]äººã¨ã—ã¦å‡ºå»·ã—ã¾ã™ã€‚'
  ],
  'ç´ ': [
    '[ç´ |ã]æ™´ã‚‰ã—ã„ä½œå“ã§ã™ã€‚',
    '[ç´ |ã™]ç›´ã«èªã‚ã¾ã™ã€‚',
    '[ç´ |ã]æã‚’å³é¸ã—ã¦ã„ã¾ã™ã€‚',
    'è¦[ç´ |ã]ã‚’åˆ†æã—ã¾ã™ã€‚',
    '[ç´ |ã]é¤Šã‚’èº«ã«ã¤ã‘ã¾ã™ã€‚'
  ],
  'å› ': [
    'åŸ[å› |ã„ã‚“]ã‚’èª¿ã¹ã¦ã„ã¾ã™ã€‚',
    '[å› |ã„ã‚“]æœé–¢ä¿‚ã‚’è€ƒãˆã¾ã™ã€‚',
    'éºä¼[å› |ã„ã‚“]å­ã®ç ”ç©¶ã§ã™ã€‚',
    'è¦[å› |ã„ã‚“]ã‚’ç‰¹å®šã—ã¾ã—ãŸã€‚',
    'å‹•[å› |ã„ã‚“]ã‚’æ¢ã‚Šã¾ã™ã€‚'
  ],
  'èª¿': [
    '[èª¿|ã¡ã‚‡ã†]æŸ»çµæœã‚’ç™ºè¡¨ã—ã¾ã™ã€‚',
    '[èª¿|ã—ã‚‰]ã¹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚',
    '[èª¿|ã¡ã‚‡ã†]æ•´ãŒå¿…è¦ã§ã™ã€‚',
    'å”[èª¿|ã¡ã‚‡ã†]ã—ã¦é€²ã‚ã¾ã™ã€‚',
    '[èª¿|ã¡ã‚‡ã†]å­ã¯ã„ã‹ãŒã§ã™ã‹ã€‚'
  ],
  'ä¸Š': [
    '[ä¸Š|ã†ãˆ]ã‹ã‚‰è¦‹ä¸‹ã‚ã—ã¾ã™ã€‚',
    '[ä¸Š|ã˜ã‚‡ã†]é”ã—ã¾ã—ãŸã€‚',
    'ãƒ†ãƒ¼ãƒ–ãƒ«ã®[ä¸Š|ã†ãˆ]ã«ç½®ãã¾ã™ã€‚',
    '[ä¸Š|ã˜ã‚‡ã†]ç´šè€…å‘ã‘ã®å†…å®¹ã§ã™ã€‚',
    'å‘[ä¸Š|ã˜ã‚‡ã†]å¿ƒã‚’æŒã¡ã¾ã™ã€‚'
  ],
  'ä¿¡': [
    '[ä¿¡|ã—ã‚“]é ¼é–¢ä¿‚ã‚’ç¯‰ãã¾ã™ã€‚',
    '[ä¿¡|ã—ã‚“]å¿µã‚’è²«ãã¾ã™ã€‚',
    'ç¢º[ä¿¡|ã—ã‚“]ã‚’æŒã£ã¦ã„ã¾ã™ã€‚',
    '[ä¿¡|ã—ã‚“]ç”¨ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚',
    'è¿·[ä¿¡|ã—ã‚“]ã«æƒ‘ã‚ã•ã‚Œã¾ã›ã‚“ã€‚'
  ],
  'é«˜': [
    '[é«˜|ãŸã‹]ã„å±±ã«ç™»ã‚Šã¾ã™ã€‚',
    '[é«˜|ã“ã†]ç´šå“ã‚’æ‰±ã„ã¾ã™ã€‚',
    '[é«˜|ãŸã‹]ã¾ã‚‹æœŸå¾…æ„Ÿã§ã™ã€‚',
    'æœ€[é«˜|ã“ã†]ã®çµæœã§ã—ãŸã€‚',
    '[é«˜|ã“ã†]ç­‰æ•™è‚²ã‚’å—ã‘ã¾ã™ã€‚'
  ]
}

// æ¬¡ã®IDã‚’å–å¾—ã™ã‚‹é–¢æ•°
function getNextId(existingQuestions: Question[]): string {
  const existingIds = existingQuestions
    .map(q => q.id)
    .filter(id => id && id.startsWith('sen-add-'))
    .map(id => parseInt(id!.replace('sen-add-', ''), 10))
    .filter(num => !isNaN(num))
  
  const maxId = existingIds.length > 0 ? Math.max(...existingIds) : 0
  return `sen-add-${String(maxId + 1).padStart(3, '0')}`
}

// å•é¡Œæ–‡ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
function generateQuestion(kanji: string, count: number, existingQuestions: Question[]): string {
  const readings = kanjiReadings[kanji] || ['']
  const reading = readings[0] || ''
  
  // ç‰¹å®šã®æ¼¢å­—ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
  if (sentenceTemplates[kanji]) {
    const templates = sentenceTemplates[kanji]
    const template = templates[count % templates.length]
    return template
  }
  
  // å¤šæ§˜ãªæ–‡ç« ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  const generalTemplates = [
    `[${kanji}|${reading}]ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚`,
    `ã“ã®[${kanji}|${reading}]ã¯éå¸¸ã«é‡è¦ã§ã™ã€‚`,
    `[${kanji}|${reading}]ã‚’æ­£ã—ãç†è§£ã—ã¾ã—ã‚‡ã†ã€‚`,
    `[${kanji}|${reading}]ã«é–¢ã™ã‚‹ç ”ç©¶ãŒé€²ã‚“ã§ã„ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã®æ„ç¾©ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã«ã¤ã„ã¦è­°è«–ã—ã¾ã—ãŸã€‚`,
    `[${kanji}|${reading}]ã‚’å°‚é–€çš„ã«åˆ†æã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã®åŠ¹æœãŒèªã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚`,
    `[${kanji}|${reading}]ã®ä¾¡å€¤ã‚’è©•ä¾¡ã—ã¦ã„ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã«å¯¾ã™ã‚‹é–¢å¿ƒãŒé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã‚’åŸºç¤ã‹ã‚‰å­¦ç¿’ã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã®ç‰¹å¾´ã‚’èª¿ã¹ã¾ã—ãŸã€‚`,
    `[${kanji}|${reading}]ã«ã¤ã„ã¦å ±å‘Šæ›¸ã‚’ä½œæˆã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã‚’å®Ÿè·µçš„ã«å¿œç”¨ã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã®æ¦‚å¿µã‚’æ˜ç¢ºã«ã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦æ¤œè¨ã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã‚’ä½“ç³»çš„ã«æ•´ç†ã—ã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã®å¯èƒ½æ€§ã‚’æ¢ã‚Šã¾ã™ã€‚`,
    `[${kanji}|${reading}]ã«ã¤ã„ã¦æ·±ãè€ƒå¯Ÿã—ã¾ã™ã€‚`
  ]
  
  // æ—¢å­˜ã®æ–‡ç« ã¨é‡è¤‡ã—ãªã„ã‚ˆã†ã«ãƒã‚§ãƒƒã‚¯
  const existingSentences = new Set(existingQuestions.map(q => q.sentence))
  let attempts = 0
  let sentence = ''
  
  do {
    const templateIndex = (count + attempts) % generalTemplates.length
    sentence = generalTemplates[templateIndex]
    attempts++
  } while (existingSentences.has(sentence) && attempts < generalTemplates.length * 2)
  
  // ãã‚Œã§ã‚‚é‡è¤‡ã™ã‚‹å ´åˆã¯ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’è¿½åŠ 
  if (existingSentences.has(sentence)) {
    sentence = `[${kanji}|${reading}]ã«ã¤ã„ã¦ç¬¬${count + 1}ã®è¦³ç‚¹ã‹ã‚‰æ¤œè¨ã—ã¾ã™ã€‚`
  }
  
  return sentence
}

// ãƒ¡ã‚¤ãƒ³å‡¦ç†
function main() {
  console.log('ğŸ” é«˜æ ¡æ¼¢å­—ã®ä½¿ç”¨é »åº¦åˆ†æã¨è¿½åŠ å•é¡Œç”Ÿæˆ')
  console.log('='.repeat(60))

  // ä½¿ç”¨é »åº¦ãŒ5å›æœªæº€ã®æ¼¢å­—ã‚’ç‰¹å®š
  const underrepresented = findUnderrepresentedKanji()
  
  console.log(`\nğŸ“Š ä½¿ç”¨é »åº¦ãŒ5å›æœªæº€ã®æ¼¢å­—: ${underrepresented.length}å€‹`)
  console.log('-'.repeat(40))
  
  if (underrepresented.length === 0) {
    console.log('âœ… å…¨ã¦ã®é«˜æ ¡æ¼¢å­—ãŒ5å›ä»¥ä¸Šä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ï¼')
    return
  }

  // æ—¢å­˜ã®è¿½åŠ å•é¡Œã‚’èª­ã¿è¾¼ã¿
  const additionalFilePath = join(__dirname, '../src/data/questions/questions-senior-additional.json')
  let existingQuestions: Question[] = []
  
  try {
    const existingData = JSON.parse(readFileSync(additionalFilePath, 'utf8')) as QuestionsFile
    existingQuestions = existingData.questions || []
    console.log(`ğŸ“ æ—¢å­˜ã®è¿½åŠ å•é¡Œ: ${existingQuestions.length}å€‹`)
  } catch (error) {
    console.log('ğŸ“ æ–°è¦ã«è¿½åŠ å•é¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™')
  }

  // å„æ¼¢å­—ã«ã¤ã„ã¦å¿…è¦ãªå•é¡Œæ•°ã‚’è¡¨ç¤º
  console.log('\nğŸ“‹ ä¸è¶³ã—ã¦ã„ã‚‹æ¼¢å­—ã¨å¿…è¦ãªè¿½åŠ å•é¡Œæ•°:')
  underrepresented.slice(0, 20).forEach(item => {
    console.log(`  ${item.kanji}: ${item.count}å›ä½¿ç”¨ â†’ ${item.needed}å•è¿½åŠ å¿…è¦`)
  })
  
  if (underrepresented.length > 20) {
    console.log(`  ... ä»–${underrepresented.length - 20}å€‹ã®æ¼¢å­—`)
  }

  // æ–°ã—ã„å•é¡Œã‚’ç”Ÿæˆ
  const newQuestions: Question[] = []
  let totalQuestionsNeeded = 0
  
  for (const item of underrepresented) {
    totalQuestionsNeeded += item.needed
    for (let i = 0; i < item.needed; i++) {
      const allExistingQuestions = [...existingQuestions, ...newQuestions]
      const sentence = generateQuestion(item.kanji, i, allExistingQuestions)
      newQuestions.push({
        id: getNextId(allExistingQuestions),
        sentence: sentence
      })
    }
  }

  console.log(`\nğŸ†• ç”Ÿæˆã™ã‚‹æ–°ã—ã„å•é¡Œæ•°: ${newQuestions.length}å€‹`)
  console.log(`ğŸ“Š ç·å•é¡Œæ•°: ${existingQuestions.length + newQuestions.length}å€‹`)

  // å•é¡Œã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
  const allQuestions = [...existingQuestions, ...newQuestions]
  const questionsData: QuestionsFile = {
    questions: allQuestions
  }

  // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
  if (existingQuestions.length > 0) {
    const backupPath = additionalFilePath + '.backup'
    writeFileSync(backupPath, JSON.stringify({ questions: existingQuestions }, null, 2))
    console.log(`ğŸ’¾ æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸ: ${backupPath}`)
  }

  // æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜
  writeFileSync(additionalFilePath, JSON.stringify(questionsData, null, 2))
  console.log(`ğŸ’¾ è¿½åŠ å•é¡Œã‚’ä¿å­˜ã—ã¾ã—ãŸ: ${additionalFilePath}`)

  // æ¤œè¨¼ã‚’å®Ÿè¡Œï¼ˆè¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ã¦å†èª­ã¿è¾¼ã¿ï¼‰
  console.log('\nğŸ”„ ç”Ÿæˆå¾Œã®æ¤œè¨¼ã‚’å®Ÿè¡Œä¸­...')
  const finalCounts = countSeniorKanjiUsageWithAdditional()
  const stillUnderrepresented = ACTUAL_SENIOR_KANJI.filter(kanji => (finalCounts.get(kanji) || 0) < 5)
  
  if (stillUnderrepresented.length === 0) {
    console.log('âœ… å…¨ã¦ã®é«˜æ ¡æ¼¢å­—ãŒ5å›ä»¥ä¸Šä½¿ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼')
  } else {
    console.log(`âš ï¸  ã¾ã ${stillUnderrepresented.length}å€‹ã®æ¼¢å­—ãŒ5å›æœªæº€ã§ã™`)
    console.log('è¿½åŠ ã®å•é¡Œç”ŸæˆãŒå¿…è¦ãªå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™')
  }

  console.log('\n='.repeat(60))
  console.log('ğŸ‰ å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸï¼')
  console.log(`ğŸ“ˆ æ”¹å–„ã•ã‚ŒãŸæ¼¢å­—æ•°: ${underrepresented.length - stillUnderrepresented.length}å€‹`)
  console.log(`ğŸ“ ç”Ÿæˆã•ã‚ŒãŸå•é¡Œæ•°: ${newQuestions.length}å€‹`)
}

// å®Ÿè¡Œ
main()